<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Happy Birthday!</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1 id="greeting"></h1>
    <p id="ageDetails"></p>
    <p id="finalMessage" class="hidden">Let me go now and do some chills... YOU enjoy YOUR DAY because itâ€™s your BIRTHDAY! ðŸ¥³</p>
  </div>

  <script>
    function calculateAgeDetails(dob) {
      const birthDate = new Date(dob);
      const now = new Date();
      const diffMs = now - birthDate;

      const seconds = Math.floor(diffMs / 1000);
      const minutes = Math.floor(seconds / 60);
      const hours = Math.floor(minutes / 60);
      const days = Math.floor(hours / 24);
      const months = Math.floor(days / 30.44); // avg month length
      const years = Math.floor(months / 12);

      return { years, months, days, hours, minutes, seconds };
    }

    const name = localStorage.getItem("name");
    const dob = localStorage.getItem("dob");

    if (!name || !dob) {
      document.querySelector(".container").innerHTML = "<h2>Error: Missing data. Please go back and enter your details again.</h2>";
    } else {
      const age = calculateAgeDetails(dob);
      document.getElementById("greeting").innerText = `Happy Birthday, ${name}! ðŸŽ‚`;
      document.getElementById("ageDetails").innerText =
        `You are now:\n${age.years} years\n${age.months} months\n${age.days} days\n${age.hours} hours\n${age.minutes} minutes\n${age.seconds} seconds OLD!`;

      setTimeout(() => {
        document.getElementById("finalMessage").classList.remove("hidden");
      }, 3000);
    }
  </script>
</body>
</html>
